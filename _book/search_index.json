[["data-importing.html", "Chapter 2 Data Importing 2.1 Different Types of Data 2.2 Downloading HMDA Data in CSV Format 2.3 Importing CSV Files in R", " Chapter 2 Data Importing 2.1 Different Types of Data In the realm of data analysis, you will encounter various types of data formats. Here are some common ones: CSV (Comma-Separated Values): A plain text format where each line corresponds to a row in the table, and fields are separated by commas. Excel Files: Commonly used spreadsheets saved in formats like .xlsx or .xls. JSON (JavaScript Object Notation): A lightweight data interchange format that is easy for humans to read and write and easy for machines to parse and generate. SQL Databases: Structured data stored in relational databases, which can be queried using SQL (Structured Query Language). API Data: Data fetched from web APIs, which often come in formats like JSON or XML. 2.1.1 Why Start with CSV Files? We will start with CSV files for several reasons: Simplicity: CSV files are easy to understand and work with, making them ideal for beginners. Ubiquity: CSV is one of the most common data formats, widely supported by various applications and programming languages. Ease of Use in R: R provides straightforward functions for importing and handling CSV files, making it an excellent starting point for learning data import techniques. By mastering the import of CSV files, you’ll build a strong foundation that will make it easier to work with other data formats as you progress in your data analysis journey. 2.2 Downloading HMDA Data in CSV Format To practice importing CSV files in R, we will use the Home Mortgage Disclosure Act (HMDA) data in CSV format. This data can be found at the Consumer Financial Protection Bureau (CFPB) website. In particular we will be working with the Snapshot National Loan Level Dataset, specifically for that in 2022 for Nevada. 2.2.1 Snapshot National Loan Level Dataset The Snapshot files contain the national HMDA datasets as of May 1, 2023 for all HMDA reporters, as modified by the Bureau to protect applicant and borrower privacy. The snapshot files are available to download in both .csv and pipe delimited text file formats at the following link: https://ffiec.cfpb.gov/data-publication/snapshot-national-loan-level-dataset/. One of the issues with these files however is that they are quite large, so we will be working with a subset of the data for Nevada in 2022. The subset of the data for Nevada in 2022 can be downloaded from the following link: Nevada 2022 HMDA Data. 2.3 Importing CSV Files in R R provides several functions for importing CSV files. The most commonly used function is read.csv(), which is part of the base R package. Additionally, the readr package offers the read_csv() function, which is optimized for faster performance and easier handling of large datasets. 2.3.1 Using read.csv() The read.csv() function is straightforward to use. Here’s how you can import a CSV file using this function: # Importing a CSV file using read.csv() data &lt;- read.csv(&quot;downloads/state_NV.csv&quot;) # Display the first few rows of the data head(data) In this example, replace \"downloads/state_NV.csv\" with the actual path to your CSV file. The head() function is used to display the first few rows of the imported data. 2.3.2 Using read_csv() from the readr Package The readr package provides a faster and more convenient way to import CSV files with the read_csv() function. First, you need to install and load the readr package: # Install the readr package install.packages(&quot;readr&quot;) Once the package is installed, you can use the read_csv() function to import the CSV file: # Load the readr package library(readr) # Importing a CSV file using read_csv() data &lt;- read_csv(&quot;downloads/state_NV.csv&quot;) ## Warning: One or more parsing issues, call `problems()` on your data frame for details, ## e.g.: ## dat &lt;- vroom(...) ## problems(dat) ## Rows: 180204 Columns: 99 ## ── Column specification ──────────────────────────────────────────────────────── ## Delimiter: &quot;,&quot; ## chr (13): lei, state_code, conforming_loan_limit, derived_loan_product_type,... ## dbl (76): activity_year, derived_msa-md, county_code, census_tract, action_t... ## lgl (10): multifamily_affordable_units, applicant_ethnicity-3, applicant_eth... ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. # Display the first few rows of the data head(data) ## # A tibble: 6 × 99 ## activity_year lei `derived_msa-md` state_code county_code census_tract ## &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 2022 5493000YNV… 29820 NV 32003 32003005006 ## 2 2022 5493000YNV… 29820 NV 32003 32003005012 ## 3 2022 5493000YNV… 29820 NV 32003 32003001615 ## 4 2022 5493000YNV… 29820 NV 32003 32003000514 ## 5 2022 5493000YNV… 29820 NV 32003 32003004910 ## 6 2022 5493000YNV… 99999 NV 32023 32023960410 ## # ℹ 93 more variables: conforming_loan_limit &lt;chr&gt;, ## # derived_loan_product_type &lt;chr&gt;, derived_dwelling_category &lt;chr&gt;, ## # derived_ethnicity &lt;chr&gt;, derived_race &lt;chr&gt;, derived_sex &lt;chr&gt;, ## # action_taken &lt;dbl&gt;, purchaser_type &lt;dbl&gt;, preapproval &lt;dbl&gt;, ## # loan_type &lt;dbl&gt;, loan_purpose &lt;dbl&gt;, lien_status &lt;dbl&gt;, ## # reverse_mortgage &lt;dbl&gt;, `open-end_line_of_credit` &lt;dbl&gt;, ## # business_or_commercial_purpose &lt;dbl&gt;, loan_amount &lt;dbl&gt;, … Similar to read.csv(), replace \"downloads/state_NV.csv\" with the actual path to your CSV file. The read_csv() function also automatically parses the data types of the columns, which can save you time and effort. 2.3.3 Handling File Paths When specifying the path to your CSV file, it’s important to ensure that the path is correct. You can use absolute paths or relative paths. Here are some examples: Absolute Path: An absolute path specifies the complete path from the root directory. For example, on Windows: \"C:/Users/YourName/Documents/data.csv\", or on macOS/Linux: \"/Users/YourName/Documents/data.csv\". Relative Path: A relative path specifies the path relative to your current working directory. For example, if your current working directory is \"C:/Users/YourName/Documents\", you can use \"data.csv\". You can check your current working directory in R using the getwd() function: # Get the current working directory getwd() You can also set the working directory using the setwd() function: # Set the working directory setwd(&quot;path/to/your/directory&quot;) 2.3.4 Common Issues and Solutions File Not Found Error: Ensure the file path is correct and the file exists at the specified location. Incorrect Data Parsing: If columns are not parsed correctly, you can specify the column types manually using the col_types argument in read_csv(). Missing Values: R automatically handles missing values as NA. You can customize the handling of missing values using the na argument. By understanding how to import CSV files in R, you can easily load your data and start your data analysis process. In the next sections, we will explore how to clean and manipulate the imported data to prepare it for analysis. [^1] "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
